<app-loading *ngIf="spin === true"></app-loading>
<div class="container-fluid my-3">
    <div class="d-flex justify-content-between">
        <app-button-back></app-button-back>
        <h1>Поставки</h1>
        <mat-button-toggle-group>
            <mat-button-toggle routerLink="/shipments/history">История поставок</mat-button-toggle>
            <mat-button-toggle routerLink="/shipments/create_shipment"
            style="background-color: #4d5ecf; color: white">Создать новую поставку</mat-button-toggle>
        </mat-button-toggle-group>
    </div>
    <div class="mt-3">
        <table mat-table [dataSource]="source" matSort class="mat-elevation-z8 w-100">

            <ng-container matColumnDef="ship">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>№ отгрузки</th>
                <td mat-cell *matCellDef="let element">{{element.id}}</td>
            </ng-container>

            <ng-container matColumnDef="fio-sup">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>ФИО поставщика</th>
                <td mat-cell
                    *matCellDef="let element">{{element.supplier_fio}}</td>
            </ng-container>

            <ng-container matColumnDef="fio-emp">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>ФИО сотрудника</th>
                <td mat-cell
                    *matCellDef="let element">{{element.employee_fio}}</td>
            </ng-container>

            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Дата</th>
                <td mat-cell *matCellDef="let element">{{element.date | date:'dd.MM.yyyy HH:mm:ss z':'+0300'}}</td>
            </ng-container>

            <ng-container matColumnDef="barcode">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Баркод товара</th>
                <td mat-cell *matCellDef="let element">{{element.product_barcode}}</td>
            </ng-container>

            <ng-container matColumnDef="amount">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Кол-во товара</th>
                <td mat-cell *matCellDef="let element">{{element.product_amount | number}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>
